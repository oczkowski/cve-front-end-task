import React from 'react';
// Importing page components
import MenuBar from './components/MenuBar';
import FilterDrawer from './components/FilterDrawer';
import DataResults from './components/DataResults';

// Redux imports
import { connect } from 'react-redux';

// Material UI Components / Utilities
import { makeStyles, createStyles, Theme } from '@material-ui/core/styles';
import Grid from '@material-ui/core/Grid';

import './style/App.css';

// Material UI grid styling
const useStyles = makeStyles((theme: Theme) =>
    createStyles({
        root: {
            flexGrow: 1,
        },
    })
);

interface AppProps {
    filterDrawerOpen: boolean;
}

const App = (props: AppProps) => {
    const { filterDrawerOpen } = props;

    const classes = useStyles();

    return (
        <>
            <div className={classes.root}>
                <Grid container style={{ marginBottom: '15px' }}>
                    <Grid item xs={12}>
                        <MenuBar />
                    </Grid>
                </Grid>
                <Grid container spacing={2}>
                    {filterDrawerOpen ? (
                        <Grid item xs={3}>
                            <FilterDrawer />
                        </Grid>
                    ) : (
                        ''
                    )}
                    <Grid item xs={filterDrawerOpen ? 9 : 12}>
                        <DataResults />
                    </Grid>
                </Grid>
            </div>
        </>
    );
};

// Mapping redux state to props of the component
const mapStateToProps = (state: {
    themeSettings: {
        filterDrawerOpen: boolean;
    };
}) => {
    return {
        filterDrawerOpen: state.themeSettings.filterDrawerOpen,
    };
};

// Exporting the component wrapped in a react-redux connect function
export default connect(mapStateToProps, {})(App);
